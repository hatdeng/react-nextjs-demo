{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { createStore, combineReducers, applyMiddleware } from 'redux';\nimport ReduxThunk from 'redux-thunk';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nconst initialState = {\n  count: 0\n};\nconst userInitialState = {\n  username: 'jokcy'\n};\nconst ADD = 'ADD';\n\nfunction countReducer(state = initialState, action) {\n  console.log(state, action);\n\n  switch (action.type) {\n    case ADD:\n      return {\n        count: state.count + (action.num || 1)\n      };\n\n    default:\n      return state;\n  }\n}\n\nconst UPDATE_USERNAME = 'UPDATE_USERNAME';\n\nfunction userReducer(state = userInitialState, action) {\n  switch (action.type) {\n    case UPDATE_USERNAME:\n      return _objectSpread({}, state, {\n        username: action.name\n      });\n\n    default:\n      return state;\n  }\n}\n\nconst allReducers = combineReducers({\n  counter: countReducer,\n  user: userReducer\n});\n/* const store = createStore(\r\n    allReducers, \r\n    {\r\n        counter: initialState,\r\n        user: userInitialState\r\n    },\r\n    composeWithDevTools(applyMiddleware(ReduxThunk)),\r\n) */\n\nconsole.log(store.getState()); //\n\nfunction add(num) {\n  return {\n    type: ADD,\n    num\n  };\n}\n\nfunction assAsync(num) {\n  return dispath => {\n    setTimeout(() => {\n      dispath(add(num));\n    }, 1000);\n  };\n} //store.dispatch({type: ADD})\n\n\nstore.dispatch(assAsync(5)); //store.dispatch(add(2))\n\nstore.dispatch({\n  type: UPDATE_USERNAME,\n  name: 'Leilail'\n});\nconsole.log(store.getState());\nstore.subscribe(() => {\n  console.log('chagned', store.getState());\n});\nstore.dispatch({\n  type: ADD\n});\nexport default function initializeStore(state) {\n  const store = createStore(allReducers, Object.assign({}, {\n    counter: initialState,\n    user: userInitialState\n  }, state), composeWithDevTools(applyMiddleware(ReduxThunk)));\n  return store;\n}","map":{"version":3,"sources":["D:/react/nextjs-project/store/store.js"],"names":["createStore","combineReducers","applyMiddleware","ReduxThunk","composeWithDevTools","initialState","count","userInitialState","username","ADD","countReducer","state","action","console","log","type","num","UPDATE_USERNAME","userReducer","name","allReducers","counter","user","store","getState","add","assAsync","dispath","setTimeout","dispatch","subscribe","initializeStore","Object","assign"],"mappings":";;;;;;AAAA,SAASA,WAAT,EAAsBC,eAAtB,EAAuCC,eAAvC,QAA8D,OAA9D;AACA,OAAOC,UAAP,MAAuB,aAAvB;AACA,SAASC,mBAAT,QAAoC,0BAApC;AACA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,KAAK,EAAE;AADU,CAArB;AAIA,MAAMC,gBAAgB,GAAG;AACrBC,EAAAA,QAAQ,EAAE;AADW,CAAzB;AAGA,MAAMC,GAAG,GAAG,KAAZ;;AAEA,SAASC,YAAT,CAAuBC,KAAK,GAAGN,YAA/B,EAA6CO,MAA7C,EAAqD;AACjDC,EAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ,EAAmBC,MAAnB;;AACA,UAAQA,MAAM,CAACG,IAAf;AACI,SAAKN,GAAL;AACI,aAAO;AAACH,QAAAA,KAAK,EAAEK,KAAK,CAACL,KAAN,IAAeM,MAAM,CAACI,GAAP,IAAc,CAA7B;AAAR,OAAP;;AACJ;AACI,aAAOL,KAAP;AAJR;AAMH;;AAED,MAAMM,eAAe,GAAG,iBAAxB;;AAEA,SAASC,WAAT,CAAqBP,KAAK,GAAGJ,gBAA7B,EAA+CK,MAA/C,EAAuD;AACnD,UAAQA,MAAM,CAACG,IAAf;AACI,SAAKE,eAAL;AACI,+BACON,KADP;AAEIH,QAAAA,QAAQ,EAAEI,MAAM,CAACO;AAFrB;;AAIA;AACI,aAAOR,KAAP;AAPZ;AASH;;AACD,MAAMS,WAAW,GAAGnB,eAAe,CAAC;AAChCoB,EAAAA,OAAO,EAAEX,YADuB;AAEhCY,EAAAA,IAAI,EAAEJ;AAF0B,CAAD,CAAnC;AAIA;;;;;;;;;AAUAL,OAAO,CAACC,GAAR,CAAYS,KAAK,CAACC,QAAN,EAAZ,E,CACA;;AACA,SAASC,GAAT,CAAaT,GAAb,EAAkB;AACd,SAAO;AACHD,IAAAA,IAAI,EAAEN,GADH;AAEHO,IAAAA;AAFG,GAAP;AAIH;;AAED,SAASU,QAAT,CAAmBV,GAAnB,EAAwB;AACpB,SAAQW,OAAD,IAAa;AAChBC,IAAAA,UAAU,CAAC,MAAI;AACXD,MAAAA,OAAO,CAACF,GAAG,CAACT,GAAD,CAAJ,CAAP;AACH,KAFS,EAEP,IAFO,CAAV;AAGH,GAJD;AAKH,C,CAED;;;AACAO,KAAK,CAACM,QAAN,CAAeH,QAAQ,CAAC,CAAD,CAAvB,E,CACA;;AACAH,KAAK,CAACM,QAAN,CAAe;AAACd,EAAAA,IAAI,EAAEE,eAAP;AAAwBE,EAAAA,IAAI,EAAE;AAA9B,CAAf;AACAN,OAAO,CAACC,GAAR,CAAYS,KAAK,CAACC,QAAN,EAAZ;AAEAD,KAAK,CAACO,SAAN,CAAgB,MAAI;AAChBjB,EAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBS,KAAK,CAACC,QAAN,EAAvB;AACH,CAFD;AAGAD,KAAK,CAACM,QAAN,CAAe;AAACd,EAAAA,IAAI,EAAEN;AAAP,CAAf;AAGA,eAAe,SAASsB,eAAT,CAA0BpB,KAA1B,EAAiC;AAC5C,QAAMY,KAAK,GAAGvB,WAAW,CACrBoB,WADqB,EAErBY,MAAM,CAACC,MAAP,CAAc,EAAd,EACI;AACIZ,IAAAA,OAAO,EAAEhB,YADb;AAEIiB,IAAAA,IAAI,EAAEf;AAFV,GADJ,EAIOI,KAJP,CAFqB,EAOrBP,mBAAmB,CAACF,eAAe,CAACC,UAAD,CAAhB,CAPE,CAAzB;AASA,SAAOoB,KAAP;AACH","sourcesContent":["import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport ReduxThunk from 'redux-thunk'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nconst initialState = {\r\n    count: 0\r\n}\r\n\r\nconst userInitialState = {\r\n    username: 'jokcy'\r\n}\r\nconst ADD = 'ADD'\r\n\r\nfunction countReducer (state = initialState, action) {\r\n    console.log(state, action)\r\n    switch (action.type) {\r\n        case ADD: \r\n            return {count: state.count + (action.num || 1)}\r\n        default: \r\n            return state\r\n    }\r\n}\r\n\r\nconst UPDATE_USERNAME = 'UPDATE_USERNAME'\r\n\r\nfunction userReducer(state = userInitialState, action) {\r\n    switch (action.type) {\r\n        case UPDATE_USERNAME:\r\n            return {\r\n                ...state,\r\n                username: action.name\r\n            }\r\n            default:\r\n                return state\r\n    }\r\n}\r\nconst allReducers = combineReducers({\r\n    counter: countReducer,\r\n    user: userReducer\r\n})\r\n/* const store = createStore(\r\n    allReducers, \r\n    {\r\n        counter: initialState,\r\n        user: userInitialState\r\n    },\r\n    composeWithDevTools(applyMiddleware(ReduxThunk)),\r\n) */\r\n\r\n\r\nconsole.log(store.getState())\r\n//\r\nfunction add(num) {\r\n    return {\r\n        type: ADD,\r\n        num\r\n    }\r\n}\r\n\r\nfunction assAsync (num) {\r\n    return (dispath) => {\r\n        setTimeout(()=>{\r\n            dispath(add(num))\r\n        }, 1000)\r\n    }\r\n}\r\n\r\n//store.dispatch({type: ADD})\r\nstore.dispatch(assAsync(5))\r\n//store.dispatch(add(2))\r\nstore.dispatch({type: UPDATE_USERNAME, name: 'Leilail'})\r\nconsole.log(store.getState())\r\n\r\nstore.subscribe(()=>{\r\n    console.log('chagned', store.getState())\r\n})\r\nstore.dispatch({type: ADD})\r\n\r\n\r\nexport default function initializeStore (state) {\r\n    const store = createStore(\r\n        allReducers, \r\n        Object.assign({},\r\n            {\r\n                counter: initialState,\r\n                user: userInitialState\r\n            }, state),\r\n        composeWithDevTools(applyMiddleware(ReduxThunk)),\r\n    )\r\n    return store\r\n}"]},"metadata":{},"sourceType":"module"}